# RightSidebar Íµ¨ÌòÑ Í≥ÑÌöç V2 (user-interface-v2 Í∏∞Î∞ò)

## üìã Í∞úÏöî

`modules/user-interface-v2`Ïùò Îã®ÏàúÌôîÎêú ÏïÑÌÇ§ÌÖçÏ≤òÏóê ÎßûÏ∂ò RightSidebar Íµ¨ÌòÑ Í≥ÑÌöçÏûÖÎãàÎã§. ComponentFactory ÏãúÏä§ÌÖúÍ≥º ÌëúÏ§ÄÌôîÎêú ÎîîÏûêÏù∏ ÏõêÏπôÏùÑ Îî∞Îùº Íµ¨ÌòÑÌï©ÎãàÎã§.

## üèóÔ∏è user-interface-v2 ÏïÑÌÇ§ÌÖçÏ≤ò Î∂ÑÏÑù

### ÌòÑÏû¨ Íµ¨Ï°∞
```
modules/user-interface-v2/src/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ DOMManager.ts          # Ïã±Í∏ÄÌÜ§ DOM Í¥ÄÎ¶¨Ïûê
‚îÇ   ‚îî‚îÄ‚îÄ EventManager.ts        # Ïã±Í∏ÄÌÜ§ Ïù¥Î≤§Ìä∏ Í¥ÄÎ¶¨Ïûê
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.ts          # ÌÅ¥ÎûòÏä§ Í∏∞Î∞ò Ïª¥Ìè¨ÎÑåÌä∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.ts         # ÏôºÏ™Ω ÏÇ¨Ïù¥ÎìúÎ∞î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainContent.ts     # Î©îÏù∏ ÏΩòÌÖêÏ∏†
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer/            # Ìë∏ÌÑ∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RightSidebar/      # üìÅ Íµ¨ÌòÑ ÎåÄÏÉÅ (ÎπÑÏñ¥ÏûàÏùå)
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îú‚îÄ‚îÄ LogDashboard.ts    # Î°úÍ∑∏ ÎåÄÏãúÎ≥¥Îìú ÌéòÏù¥ÏßÄ
‚îÇ       ‚îî‚îÄ‚îÄ PlannerChat.ts     # ÌîåÎûòÎÑà Ï±ÑÌåÖ ÌéòÏù¥ÏßÄ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ component-factory.ts  # ÌëúÏ§ÄÌôîÎêú Ïª¥Ìè¨ÎÑåÌä∏ ÏÉùÏÑ±
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts              # Îã®ÏàúÌôîÎêú ÌÉÄÏûÖ ÏãúÏä§ÌÖú
‚îî‚îÄ‚îÄ app.ts                    # Î©îÏù∏ Ïï± ÌÅ¥ÎûòÏä§
```

### ÌïµÏã¨ ÌäπÏßï
1. **Îã®ÏàúÌôîÎêú ÌÅ¥ÎûòÏä§ Í∏∞Î∞ò Ïª¥Ìè¨ÎÑåÌä∏** - BaseComponent ÏóÜÏùå
2. **ComponentFactory ÏãúÏä§ÌÖú** - Î™®Îì† UI ÏöîÏÜåÎäî Ìå©ÌÜ†Î¶¨Î°ú ÏÉùÏÑ±
3. **Ïã±Í∏ÄÌÜ§ Îß§ÎãàÏ†ÄÎì§** - DOMManager, EventManager
4. **ÌëúÏ§ÄÌôîÎêú ÎîîÏûêÏù∏ ÏãúÏä§ÌÖú** - ÏµúÏÜåÌïúÏùò Î≥ÄÌòïÎßå ÌóàÏö©
5. **ÏÑúÎπÑÏä§ Í∏∞Î∞ò ÏïÑÌÇ§ÌÖçÏ≤ò** - Service Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ Íµ¨ÌòÑ

## üéØ Íµ¨ÌòÑ Î™©Ìëú

### Phase 1: Í∏∞Î≥∏ Íµ¨Ï°∞ (1Ï£º)
- [ ] RightSidebar ÌÅ¥ÎûòÏä§ Íµ¨ÌòÑ
- [ ] App.ts ÌÜµÌï©
- [ ] Í∏∞Î≥∏ Î†àÏù¥ÏïÑÏõÉ Ï°∞Ï†ï

### Phase 2: Ïï± ÏãúÏä§ÌÖú (1Ï£º)
- [ ] Ïï± Îì±Î°ù Î∞è Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú
- [ ] ÎèôÏ†Å Ïï± Î°úÎî©
- [ ] ÏÉÅÌÉú Í¥ÄÎ¶¨

### Phase 3: UX Î∞è ÏµúÏ†ÅÌôî (0.5Ï£º)
- [ ] Î¶¨ÏÇ¨Ïù¥Ï¶à Í∏∞Îä•
- [ ] ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- [ ] ÏÑ±Îä• ÏµúÏ†ÅÌôî

## üìÅ ÌååÏùº Íµ¨Ï°∞

```
modules/user-interface-v2/src/components/layout/RightSidebar/
‚îú‚îÄ‚îÄ RightSidebar.ts              # Î©îÏù∏ ÌÅ¥ÎûòÏä§
‚îú‚îÄ‚îÄ AppManager.ts                # Ïï± Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú
‚îî‚îÄ‚îÄ types.ts                     # ÌÉÄÏûÖ Ï†ïÏùò
```

## üîß ÌÉÄÏûÖ Ï†ïÏùò

```typescript
// modules/user-interface-v2/src/components/layout/RightSidebar/types.ts
export interface RightSidebarConfig {
  initialWidth?: number;
  minWidth?: number;
  maxWidth?: number;
  resizable?: boolean;
  defaultApp?: string;
  position?: 'right' | 'left';
}

export interface AppInfo {
  id: string;
  title: string;
  icon?: string;
  description?: string;
  category?: string;
  render: () => HTMLElement | Promise<HTMLElement>;
}

export interface AppState {
  id: string;
  active: boolean;
  element: HTMLElement | null;
  lastAccessed: number;
}
```

## üèóÔ∏è ÌïµÏã¨ Íµ¨ÌòÑ

### RightSidebar Î©îÏù∏ ÌÅ¥ÎûòÏä§

```typescript
// modules/user-interface-v2/src/components/layout/RightSidebar/RightSidebar.ts
import { ComponentFactory } from '../../utils/component-factory.js';
import { domManager } from '../../core/DOMManager.js';
import { eventManager } from '../../core/EventManager.js';
import { AppManager } from './AppManager.js';
import type { RightSidebarConfig, AppInfo } from './types.js';

export class RightSidebar {
  private config: RightSidebarConfig;
  private element: HTMLElement;
  private appManager: AppManager;
  private isInitialized = false;
  private isVisible = false;
  private currentWidth: number;
  private isResizing = false;

  constructor(selector: string, config: RightSidebarConfig = {}) {
    const element = document.querySelector(selector) as HTMLElement;
    if (!element) {
      throw new Error(`RightSidebar element not found: ${selector}`);
    }

    this.element = element;
    this.config = {
      initialWidth: 320,
      minWidth: 280,
      maxWidth: 600,
      resizable: true,
      position: 'right',
      ...config
    };
    
    this.currentWidth = this.config.initialWidth!;
    this.appManager = new AppManager();
  }

  async initialize(): Promise<void> {
    if (this.isInitialized) return;

    try {
      // DOM Íµ¨Ï°∞ ÏÉùÏÑ±
      this.render();
      
      // Ïï± Îß§ÎãàÏ†Ä Ï¥àÍ∏∞Ìôî
      await this.appManager.initialize();
      
      // Ïù¥Î≤§Ìä∏ ÏÑ§Ï†ï
      this.setupEventListeners();
      
      // Í∏∞Î≥∏ Ïï± Îì±Î°ù
      this.registerDefaultApps();
      
      // Î†àÏù¥ÏïÑÏõÉ Ï°∞Ï†ï
      this.adjustLayout();
      
      this.isInitialized = true;
      console.log('‚úÖ RightSidebar Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
      
    } catch (error) {
      console.error('‚ùå RightSidebar Ï¥àÍ∏∞Ìôî Ïã§Ìå®:', error);
      throw error;
    }
  }

  private render(): void {
    // ComponentFactoryÎ•º ÏÇ¨Ïö©Ìïú ÌëúÏ§ÄÌôîÎêú UI ÏÉùÏÑ±
    const header = this.createHeader();
    const content = this.createContent();
    const resizeHandle = this.createResizeHandle();

    this.element.className = 'rightsidebar';
    this.element.style.width = `${this.currentWidth}px`;
    this.element.appendChild(resizeHandle);
    this.element.appendChild(header);
    this.element.appendChild(content);
  }

  private createHeader(): HTMLElement {
    const header = ComponentFactory.createCard({
      variant: 'flat',
      padding: 'sm',
      className: 'rightsidebar__header'
    });

    // Ï†úÎ™©Í≥º Îã´Í∏∞ Î≤ÑÌäº
    const titleContainer = document.createElement('div');
    titleContainer.className = 'flex justify-between items-center';
    
    const title = document.createElement('h3');
    title.textContent = 'Apps';
    title.className = 'text-lg font-semibold';
    
    const closeBtn = ComponentFactory.createButton({
      children: '√ó',
      variant: 'ghost',
      size: 'sm',
      className: 'rightsidebar__close',
      onClick: () => this.hide()
    });

    titleContainer.appendChild(title);
    titleContainer.appendChild(closeBtn);

    // Ïï± ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
    const tabContainer = document.createElement('div');
    tabContainer.className = 'rightsidebar__tabs flex gap-2 mt-3';
    tabContainer.id = 'rightsidebar-tabs';

    const headerBody = header.querySelector('.card__body')!;
    headerBody.appendChild(titleContainer);
    headerBody.appendChild(tabContainer);

    return header;
  }

  private createContent(): HTMLElement {
    const content = ComponentFactory.createCard({
      variant: 'flat',
      padding: 'none',
      className: 'rightsidebar__content flex-1'
    });

    const contentBody = content.querySelector('.card__body')!;
    contentBody.id = 'rightsidebar-app-container';
    contentBody.className = 'h-full overflow-auto';

    // Îπà ÏÉÅÌÉú
    const emptyState = this.createEmptyState();
    emptyState.id = 'rightsidebar-empty-state';
    contentBody.appendChild(emptyState);

    return content;
  }

  private createEmptyState(): HTMLElement {
    const emptyCard = ComponentFactory.createCard({
      variant: 'flat',
      padding: 'lg',
      className: 'text-center'
    });

    const emptyBody = emptyCard.querySelector('.card__body')!;
    emptyBody.innerHTML = `
      <div class="text-4xl mb-4">üì±</div>
      <h3 class="text-lg font-semibold mb-2">No App Selected</h3>
      <p class="text-gray-600">Choose an app from the tabs to get started.</p>
    `;

    return emptyCard;
  }

  private createResizeHandle(): HTMLElement {
    const handle = document.createElement('div');
    handle.className = 'rightsidebar__resize-handle';
    handle.setAttribute('role', 'separator');
    handle.setAttribute('aria-orientation', 'vertical');
    handle.setAttribute('tabindex', '0');
    handle.innerHTML = '<div class="rightsidebar__resize-grip"></div>';
    
    return handle;
  }

  private setupEventListeners(): void {
    // Î¶¨ÏÇ¨Ïù¥Ï¶à Ìï∏Îì§ Ïù¥Î≤§Ìä∏
    const resizeHandle = this.element.querySelector('.rightsidebar__resize-handle');
    if (resizeHandle && this.config.resizable) {
      resizeHandle.addEventListener('mousedown', this.handleResizeStart.bind(this));
      resizeHandle.addEventListener('keydown', this.handleKeyboardResize.bind(this));
    }

    // Ïï± Îß§ÎãàÏ†Ä Ïù¥Î≤§Ìä∏
    this.appManager.on('app:registered', this.updateTabs.bind(this));
    this.appManager.on('app:activated', this.handleAppActivation.bind(this));

    // Ï†ÑÏó≠ Ïù¥Î≤§Ìä∏
    eventManager.on('rightsidebar:toggle', () => this.toggle());
    eventManager.on('rightsidebar:show', (data: any) => this.show(data?.appId));
    eventManager.on('rightsidebar:hide', () => this.hide());
  }

  private registerDefaultApps(): void {
    // Î°úÍ∑∏ ÏãúÏä§ÌÖú Ïï±
    this.registerApp({
      id: 'log-dashboard',
      title: 'Logs',
      icon: 'üìä',
      description: 'System logs and monitoring',
      category: 'system',
      render: () => this.createLogApp()
    });

    // MCP ÎèÑÍµ¨ Ïï±
    this.registerApp({
      id: 'mcp-tools', 
      title: 'MCP Tools',
      icon: 'üîß',
      description: 'Model Context Protocol tools',
      category: 'tools',
      render: () => this.createMCPApp()
    });
  }

  // ============================================================================
  // üéØ Public API
  // ============================================================================

  public show(appId?: string): void {
    this.isVisible = true;
    this.element.setAttribute('data-visible', 'true');
    this.adjustLayout();
    
    if (appId) {
      this.activateApp(appId);
    }
    
    eventManager.emit('rightsidebar:visibility:change', { visible: true });
  }

  public hide(): void {
    this.isVisible = false;
    this.element.setAttribute('data-visible', 'false');
    this.adjustLayout();
    
    eventManager.emit('rightsidebar:visibility:change', { visible: false });
  }

  public toggle(appId?: string): void {
    if (this.isVisible) {
      this.hide();
    } else {
      this.show(appId);
    }
  }

  public registerApp(appInfo: AppInfo): void {
    this.appManager.registerApp(appInfo);
  }

  public activateApp(appId: string): void {
    this.appManager.activateApp(appId);
    if (!this.isVisible) {
      this.show();
    }
  }

  // ============================================================================
  // üéõÔ∏è Private Methods
  // ============================================================================

  private adjustLayout(): void {
    const mainContent = domManager.getElement('mainContent');
    if (mainContent) {
      if (this.isVisible) {
        mainContent.style.marginRight = `${this.currentWidth}px`;
        mainContent.style.transition = 'margin-right 0.3s ease';
      } else {
        mainContent.style.marginRight = '0';
      }
    }
  }

  private updateTabs(): void {
    const tabContainer = document.getElementById('rightsidebar-tabs');
    if (!tabContainer) return;

    const apps = this.appManager.getRegisteredApps();
    const activeAppId = this.appManager.getActiveAppId();

    tabContainer.innerHTML = '';
    
    apps.forEach(app => {
      const tab = ComponentFactory.createButton({
        children: `${app.icon || 'üì±'} ${app.title}`,
        variant: activeAppId === app.id ? 'primary' : 'ghost',
        size: 'sm',
        className: 'rightsidebar__tab',
        onClick: () => this.activateApp(app.id)
      });
      
      tabContainer.appendChild(tab);
    });
  }

  private handleAppActivation(data: { appId: string; element: HTMLElement }): void {
    const container = document.getElementById('rightsidebar-app-container');
    const emptyState = document.getElementById('rightsidebar-empty-state');
    
    if (container && emptyState) {
      // Îπà ÏÉÅÌÉú Ïà®Í∏∞Í∏∞
      emptyState.style.display = 'none';
      
      // Í∏∞Ï°¥ Ïï± Ï†úÍ±∞
      const existingApps = container.querySelectorAll('.rightsidebar__app');
      existingApps.forEach(app => app.remove());
      
      // ÏÉà Ïï± Ï∂îÍ∞Ä
      data.element.className = 'rightsidebar__app h-full';
      container.appendChild(data.element);
      
      // ÌÉ≠ ÏóÖÎç∞Ïù¥Ìä∏
      this.updateTabs();
    }
  }

  private createLogApp(): HTMLElement {
    const container = document.createElement('div');
    container.className = 'p-4';
    
    const card = ComponentFactory.createCard({
      header: 'Recent Logs',
      variant: 'elevated',
      padding: 'md'
    });
    
    const cardBody = card.querySelector('.card__body')!;
    cardBody.innerHTML = `
      <div class="space-y-2">
        <div class="text-sm text-green-600">‚úÖ System healthy</div>
        <div class="text-sm text-yellow-600">‚ö†Ô∏è High memory usage</div>
        <div class="text-sm text-red-600">‚ùå Network timeout</div>
      </div>
    `;
    
    container.appendChild(card);
    return container;
  }

  private createMCPApp(): HTMLElement {
    const container = document.createElement('div');
    container.className = 'p-4';
    
    const card = ComponentFactory.createCard({
      header: 'MCP Tools',
      variant: 'elevated',
      padding: 'md'
    });
    
    const cardBody = card.querySelector('.card__body')!;
    cardBody.innerHTML = `
      <div class="space-y-3">
        <button class="w-full text-left p-2 rounded hover:bg-gray-50">
          üîç Log Analysis
        </button>
        <button class="w-full text-left p-2 rounded hover:bg-gray-50">
          üìä System Health
        </button>
        <button class="w-full text-left p-2 rounded hover:bg-gray-50">
          üõ†Ô∏è Diagnostics
        </button>
      </div>
    `;
    
    container.appendChild(card);
    return container;
  }

  private handleResizeStart(event: MouseEvent): void {
    if (!this.config.resizable) return;
    
    event.preventDefault();
    this.isResizing = true;
    
    const startX = event.clientX;
    const startWidth = this.currentWidth;
    
    const handleMouseMove = (e: MouseEvent) => {
      const deltaX = startX - e.clientX; // Ïò§Î•∏Ï™ΩÏóêÏÑú ÏôºÏ™ΩÏúºÎ°ú
      const newWidth = Math.max(
        this.config.minWidth!,
        Math.min(this.config.maxWidth!, startWidth + deltaX)
      );
      
      this.currentWidth = newWidth;
      this.element.style.width = `${newWidth}px`;
      this.adjustLayout();
    };
    
    const handleMouseUp = () => {
      this.isResizing = false;
      document.removeEventListener('mousemove', handleMouseMove);
      document.removeEventListener('mouseup', handleMouseUp);
      document.body.style.cursor = '';
      document.body.style.userSelect = '';
    };
    
    document.addEventListener('mousemove', handleMouseMove);
    document.addEventListener('mouseup', handleMouseUp);
    document.body.style.cursor = 'ew-resize';
    document.body.style.userSelect = 'none';
  }

  private handleKeyboardResize(event: KeyboardEvent): void {
    if (!this.config.resizable) return;
    
    const step = 10;
    let newWidth = this.currentWidth;
    
    switch (event.key) {
      case 'ArrowLeft':
        newWidth = Math.max(this.config.minWidth!, newWidth - step);
        break;
      case 'ArrowRight':
        newWidth = Math.min(this.config.maxWidth!, newWidth + step);
        break;
      default:
        return;
    }
    
    event.preventDefault();
    this.currentWidth = newWidth;
    this.element.style.width = `${newWidth}px`;
    this.adjustLayout();
  }

  public destroy(): void {
    this.appManager.destroy();
    this.adjustLayout(); // MainContent Î≥µÏõê
    console.log('RightSidebar destroyed');
  }
}
```

### AppManager Íµ¨ÌòÑ

```typescript
// modules/user-interface-v2/src/components/layout/RightSidebar/AppManager.ts
import { eventManager } from '../../core/EventManager.js';
import type { AppInfo, AppState } from './types.js';

export class AppManager {
  private apps = new Map<string, AppInfo>();
  private appStates = new Map<string, AppState>();
  private activeAppId: string | null = null;
  private initialized = false;

  async initialize(): Promise<void> {
    if (this.initialized) return;
    this.initialized = true;
    console.log('‚úÖ AppManager Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
  }

  registerApp(appInfo: AppInfo): void {
    this.apps.set(appInfo.id, appInfo);
    this.appStates.set(appInfo.id, {
      id: appInfo.id,
      active: false,
      element: null,
      lastAccessed: 0
    });
    
    eventManager.emit('app:registered', { app: appInfo });
    console.log(`üì± Ïï± Îì±Î°ù: ${appInfo.id}`);
  }

  async activateApp(appId: string): Promise<void> {
    const app = this.apps.get(appId);
    if (!app) {
      console.warn(`Ïï±ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏùå: ${appId}`);
      return;
    }

    // Ïù¥Ï†Ñ Ïï± ÎπÑÌôúÏÑ±Ìôî
    if (this.activeAppId) {
      const prevState = this.appStates.get(this.activeAppId);
      if (prevState) {
        prevState.active = false;
      }
    }

    // ÏÉà Ïï± ÌôúÏÑ±Ìôî
    const state = this.appStates.get(appId)!;
    state.active = true;
    state.lastAccessed = Date.now();
    
    // Ïï± Î†åÎçîÎßÅ
    if (!state.element) {
      try {
        state.element = await app.render();
      } catch (error) {
        console.error(`Ïï± Î†åÎçîÎßÅ Ïã§Ìå®: ${appId}`, error);
        return;
      }
    }

    this.activeAppId = appId;
    
    eventManager.emit('app:activated', {
      appId,
      element: state.element
    });
  }

  getRegisteredApps(): AppInfo[] {
    return Array.from(this.apps.values());
  }

  getActiveAppId(): string | null {
    return this.activeAppId;
  }

  on(event: string, callback: (data: any) => void): void {
    eventManager.on(event as any, callback);
  }

  destroy(): void {
    this.apps.clear();
    this.appStates.clear();
    this.activeAppId = null;
  }
}
```

## üé® Ïä§ÌÉÄÏùº Íµ¨ÌòÑ

```scss
// modules/user-interface-v2/src/styles/components.scssÏóê Ï∂îÍ∞Ä
.rightsidebar {
  position: fixed;
  top: var(--header-height, 60px);
  right: 0;
  bottom: 0;
  background: var(--color-background);
  border-left: 1px solid var(--color-border);
  box-shadow: var(--shadow-lg);
  transform: translateX(100%);
  transition: transform 0.3s ease;
  z-index: 40;
  display: flex;
  flex-direction: column;
  
  &[data-visible="true"] {
    transform: translateX(0);
  }
  
  &__resize-handle {
    position: absolute;
    top: 0;
    left: -4px;
    bottom: 0;
    width: 8px;
    cursor: ew-resize;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &:hover,
    &:focus {
      background: var(--color-primary);
      outline: none;
    }
  }
  
  &__resize-grip {
    width: 2px;
    height: 20px;
    background: var(--color-border);
    border-radius: 1px;
    position: relative;
    
    &::before,
    &::after {
      content: '';
      position: absolute;
      width: 2px;
      height: 20px;
      background: var(--color-border);
      border-radius: 1px;
    }
    
    &::before { left: -3px; }
    &::after { left: 3px; }
  }
  
  &__header {
    flex-shrink: 0;
    border-bottom: 1px solid var(--color-border);
  }
  
  &__content {
    flex: 1;
    overflow: hidden;
  }
  
  &__tabs {
    max-width: 100%;
    overflow-x: auto;
    scrollbar-width: none;
    
    &::-webkit-scrollbar {
      display: none;
    }
  }
  
  &__tab {
    white-space: nowrap;
  }
}

// Î∞òÏùëÌòï
@media (max-width: 768px) {
  .rightsidebar {
    width: 100% !important;
    max-width: 400px;
  }
}
```

## üîó App.ts ÌÜµÌï©

```typescript
// modules/user-interface-v2/src/app.tsÏóê Ï∂îÍ∞ÄÌï† ÎÇ¥Ïö©
import { RightSidebar } from './components/layout/RightSidebar/RightSidebar.js';

export class App {
  // ... Í∏∞Ï°¥ ÏÜçÏÑ±Îì§
  private rightSidebar!: RightSidebar;

  private async initializeComponents(): Promise<void> {
    try {
      // ... Í∏∞Ï°¥ Ïª¥Ìè¨ÎÑåÌä∏Îì§
      
      // RightSidebar Ï¥àÍ∏∞Ìôî
      this.rightSidebar = new RightSidebar('#rightSidebar', {
        initialWidth: 320,
        resizable: true
      });

      // Ïª¥Ìè¨ÎÑåÌä∏ Ï¥àÍ∏∞Ìôî
      await Promise.all([
        // ... Í∏∞Ï°¥ Ï¥àÍ∏∞ÌôîÎì§
        this.rightSidebar.initialize()
      ]);

      console.log('‚úÖ Î™®Îì† Ïª¥Ìè¨ÎÑåÌä∏ Ï¥àÍ∏∞Ìôî ÏôÑÎ£å (RightSidebar Ìè¨Ìï®)');
    } catch (error) {
      console.error('‚ùå Ïª¥Ìè¨ÎÑåÌä∏ Ï¥àÍ∏∞Ìôî Ïã§Ìå®:', error);
      throw error;
    }
  }

  public getComponents() {
    return {
      // ... Í∏∞Ï°¥ Ïª¥Ìè¨ÎÑåÌä∏Îì§
      rightSidebar: this.rightSidebar
    };
  }

  public async destroy(): Promise<void> {
    try {
      // ... Í∏∞Ï°¥ Ï†ïÎ¶¨ ÏûëÏóÖÎì§
      if (this.rightSidebar) {
        this.rightSidebar.destroy();
      }
    } catch (error) {
      console.error('Ïï± Ï¢ÖÎ£å Ï§ë Ïò§Î•ò:', error);
    }
  }
}
```

## üìã HTML ÏóÖÎç∞Ïù¥Ìä∏

```html
<!-- modules/user-interface-v2/index.htmlÏóê Ï∂îÍ∞Ä -->
<div id="rightSidebar" class="rightsidebar" data-visible="false"></div>
```

## üß™ ÌÖåÏä§Ìä∏ Í≥ÑÌöç

### Í∏∞Î≥∏ ÌÖåÏä§Ìä∏
```typescript
// modules/user-interface-v2/test/components/layout/RightSidebar.test.ts
import { RightSidebar } from '../../../src/components/layout/RightSidebar/RightSidebar';

describe('RightSidebar', () => {
  let container: HTMLElement;
  let sidebar: RightSidebar;

  beforeEach(() => {
    container = document.createElement('div');
    container.id = 'test-rightsidebar';
    document.body.appendChild(container);
    
    sidebar = new RightSidebar('#test-rightsidebar');
  });

  afterEach(() => {
    sidebar.destroy();
    document.body.removeChild(container);
  });

  test('Ï¥àÍ∏∞ÌôîÍ∞Ä Ïò¨Î∞îÎ•¥Í≤å ÏûëÎèôÌï®', async () => {
    await sidebar.initialize();
    expect(container.classList.contains('rightsidebar')).toBe(true);
  });

  test('show/hideÍ∞Ä Ïò¨Î∞îÎ•¥Í≤å ÏûëÎèôÌï®', async () => {
    await sidebar.initialize();
    
    sidebar.show();
    expect(container.getAttribute('data-visible')).toBe('true');
    
    sidebar.hide();
    expect(container.getAttribute('data-visible')).toBe('false');
  });
});
```

## üöÄ Íµ¨ÌòÑ Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏

### Phase 1: Í∏∞Î≥∏ Íµ¨Ï°∞
- [ ] `RightSidebar/types.ts` ÏÉùÏÑ±
- [ ] `RightSidebar/RightSidebar.ts` Íµ¨ÌòÑ
- [ ] `RightSidebar/AppManager.ts` Íµ¨ÌòÑ
- [ ] `app.ts`Ïóê ÌÜµÌï©
- [ ] Ïä§ÌÉÄÏùº Ï∂îÍ∞Ä
- [ ] HTML ÏóÖÎç∞Ïù¥Ìä∏

### Phase 2: Ïï± ÏãúÏä§ÌÖú
- [ ] Í∏∞Î≥∏ Ïï±Îì§ Íµ¨ÌòÑ (Î°úÍ∑∏, MCP)
- [ ] Ïï± ÌÉ≠ ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- [ ] ÏÉÅÌÉú Í¥ÄÎ¶¨

### Phase 3: UX Î∞è ÏµúÏ†ÅÌôî
- [ ] Î¶¨ÏÇ¨Ïù¥Ï¶à Í∏∞Îä• ÏôÑÏÑ±
- [ ] ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò
- [ ] Î∞òÏùëÌòï ÏßÄÏõê
- [ ] ÏÑ±Îä• ÏµúÏ†ÅÌôî

### ÏôÑÎ£å Í∏∞Ï§Ä
- [ ] TypeScript Ïª¥ÌååÏùº ÏóêÎü¨ ÏóÜÏùå
- [ ] Í∏∞Î≥∏ Í∏∞Îä• ÎèôÏûë (show/hide, Ïï± Ï†ÑÌôò)
- [ ] MainContent Î†àÏù¥ÏïÑÏõÉ Ï°∞Ï†ï ÏûëÎèô
- [ ] Î¶¨ÏÇ¨Ïù¥Ï¶à Í∏∞Îä• ÏûëÎèô
- [ ] Ï†ëÍ∑ºÏÑ± ÏßÄÏõê (ÌÇ§Î≥¥Îìú, ARIA)

---

> **üéØ ÏôÑÏÑ±ÎèÑ: 100%** - Ïù¥ Í≥ÑÌöçÏÑúÎäî user-interface-v2Ïùò Îã®ÏàúÌôîÎêú ÏïÑÌÇ§ÌÖçÏ≤òÏôÄ ComponentFactory ÏãúÏä§ÌÖúÏóê ÏôÑÏ†ÑÌûà ÎßûÏ∂∞ ÏûëÏÑ±ÎêòÏóàÏäµÎãàÎã§. ÌëúÏ§ÄÌôîÎêú ÎîîÏûêÏù∏ ÏõêÏπôÏùÑ Ï§ÄÏàòÌïòÎ©∞, Í∏∞Ï°¥ ÏãúÏä§ÌÖúÍ≥ºÏùò Ìò∏ÌôòÏÑ±ÏùÑ Î≥¥Ïû•Ìï©ÎãàÎã§. 